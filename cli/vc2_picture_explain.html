
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vc2-picture-explain &#8212; SMPTE VC-2 Conformance Software v0.4.5 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="vc2-bitstream-viewer" href="vc2_bitstream_viewer.html" />
    <link rel="prev" title="vc2-picture-compare" href="vc2_picture_compare.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="vc2_bitstream_viewer.html" title="vc2-bitstream-viewer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="vc2_picture_compare.html" title="vc2-picture-compare"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SMPTE VC-2 Conformance Software v0.4.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Software tools reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">vc2-picture-explain</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-vc2_conformance.scripts.vc2_picture_explain"></span><div class="section" id="vc2-picture-explain">
<span id="id1"></span><h1><code class="docutils literal notranslate"><span class="pre">vc2-picture-explain</span></code><a class="headerlink" href="#vc2-picture-explain" title="Permalink to this headline">¶</a></h1>
<p>A command-line utility which provides informative descriptions the raw video
format (see <a class="reference internal" href="../user_guide/file_format.html#file-format"><span class="std std-ref">Video file format</span></a>) used by the VC-2 conformance software. As well
as providing an explanation of the format, where possible sample invocations of
<a class="reference external" href="https://ffmpeg.org/">FFmpeg</a> and <a class="reference external" href="https://imagemagick.org/">ImageMagick</a>
are provided for viewing the raw files directly.</p>
<div class="section" id="example-usage">
<h2>Example usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<p>An example invocation is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ vc2-picture-explain path/to/raw/picture_0.json
Normative description
=====================

Picture coding mode: pictures_are_fields (1)

Video parameters:

* frame_width: 720
* frame_height: 576
* color_diff_format_index: color_4_2_2 (1)
* source_sampling: interlaced (1)
* top_field_first: True
* frame_rate_numer: 25
* frame_rate_denom: 1
* pixel_aspect_ratio_numer: 12
* pixel_aspect_ratio_denom: 11
* clean_width: 704
* clean_height: 576
* left_offset: 8
* top_offset: 0
* luma_offset: 16
* luma_excursion: 219
* color_diff_offset: 128
* color_diff_excursion: 224
* color_primaries_index: sdtv_625 (2)
* color_matrix_index: sdtv (1)
* transfer_function_index: tv_gamma (0)

Explanation (informative)
=========================

Each raw picture contains a single field. The top field comes first.

Pictures contain three planar components: Y, Cb and Cr, in that order, which are
4:2:2 subsampled.

The Y component consists of 720x288 8 bit values. Expressible values run from 0
(video level -0.07) to 255 (video level 1.09).

The Cb and Cr components consist of 360x288 8 bit values. Expressible values run
from 0 (video level -0.57) to 255 (video level 0.57).

The color model uses the &#39;sdtv_625&#39; primaries (ITU-R BT.601), the &#39;sdtv&#39; color
matrix (ITU-R BT.601) and the &#39;tv_gamma&#39; transfer function (ITU-R BT.2020).

The pixel aspect ratio is 12:11 (not to be confused with the frame aspect
ratio).

Example FFMPEG command (informative)
====================================

The following command can be used to play back this video format using FFMPEG:

    $ ffplay \
        -f image2 \
        -video_size 720x288 \
        -framerate 50 \
        -pixel_format yuv422p \
        -i path/to/raw/picture_%d.raw \
        -vf weave=t,yadif,scale=&#39;trunc((iw*12)/11):ih&#39;

Where:

* `-f image2` = Read pictures from individual files
* `-video_size 720x288` = Picture size (not frame size).
* `-framerate 50` = Picture rate (not frame rate)
* `-pixel_format` = Specifies raw picture encoding.
* `yuv` = Y C1 C2 color.
* `422` = 4:2:2 color difference subsampling.
* `p` = Planar format.
* `-i path/to/raw/picture_%d.raw` = Input raw picture filename pattern
* `-vf` = define a pipeline of video filtering operations
* `weave=t` = interleave pairs of pictures, top field first
* `yadif` = (optional) apply a deinterlacing filter for display purposes
* `scale=&#39;trunc((iw*12)/11):ih&#39;` = rescale non-square pixels for display with
  square pixels

This command is provided as a minimal example for basic playback of this raw
video format.  While it attempts to ensure correct frame rate, pixel aspect
ratio, interlacing mode and basic pixel format, color model options are omitted
due to inconsistent handling by FFMPEG.

Example ImageMagick command (informative)
=========================================

The following command can be used to convert a single raw picture into PNG
format for viewing in a conventional image viewer:

    $ convert \
        -size 720x288 \
        -depth 8 \
        -sampling-factor 4:2:2 \
        -interlace plane \
        -colorspace sRGB \
        yuv:path/to/raw/picture_0.raw \
        -resize 109.0909090909091%,100% \
        png24:path/to/raw/picture_0.raw

Where:

* `-size 720x288` = Picture size.
* `-depth 8` = 8 bit values.
* `-sampling-factor 4:2:2` = 4:2:2 color difference subsampling.
* `-interlace plane` = Planar format (not related to video interlace mode).
* `-colorspace sRGB` = Display as if using sRGB color.
* `yuv:` = Input is Y C1 C2 picture.
* `path/to/raw/picture_0.raw` = Input filename.
* `-resize 109.0909090909091%,100%` = rescale non-square pixels for display with
  square pixels
* `png24:path/to/raw/picture_0.png` = Save as 24-bit PNG (e.g. 8 bit channels)

This command is provided as a minimal example for basic viewing of pictures.
Interlacing and correct color model conversion are not implemented.
</pre></div>
</div>
</div>
<div class="section" id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<p>The complete set of arguments can be listed using <code class="docutils literal notranslate"><span class="pre">--help</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: vc2-picture-explain [-h] [--version] filename

Informatively explain the video format used a raw video file generated by the
VC-2 conformance software.

positional arguments:
  filename    The filename of a .raw or .json raw video file.

optional arguments:
  -h, --help  show this help message and exit
  --version   show program&#39;s version number and exit
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">vc2-picture-explain</span></code></a><ul>
<li><a class="reference internal" href="#example-usage">Example usage</a></li>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="vc2_picture_compare.html"
                        title="previous chapter"><code class="docutils literal notranslate"><span class="pre">vc2-picture-compare</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="vc2_bitstream_viewer.html"
                        title="next chapter"><code class="docutils literal notranslate"><span class="pre">vc2-bitstream-viewer</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cli/vc2_picture_explain.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="vc2_bitstream_viewer.html" title="vc2-bitstream-viewer"
             >next</a> |</li>
        <li class="right" >
          <a href="vc2_picture_compare.html" title="vc2-picture-compare"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SMPTE VC-2 Conformance Software v0.4.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Software tools reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">vc2-picture-explain</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, BBC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>